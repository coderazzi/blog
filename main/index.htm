<html>

<head>
 <title>Coderazzi - Luis M. Pena's home page</title>
</head>

<body>
 <div id='body'>
 <div id='content'>

	 <p class="blog-entry"><span class="blog-entry-date">20th March 2016</span>Rclone</p>

	 <p> <img src="images/rclone.jpg" alt="rclone" class="blog"> A few years ago, I setup a poor man backup system for a
         site using <b>rsync</b> and <a href='https://www.dropbox.com/install?os=lnx'>Dropbox</a>.
         Eventually, the database and associated files required more than 2 Gb, and still following the poor man habits,
         I had a look at <a href="https://www.google.com/drive/>"gdrive</a>; unfortunately, Google does not have
         an official headless linux client.
     </p>
     <p>
         But there are several unofficial clients. Like <a href="https://github.com/iwonbigbro/gsync">gsync</a>,
         which tries to provide rsync functionality, being still severely limited. I opted better for other client,
         <a href="http://rclone.org/">rclone</a>, which does not only support GDrive, but also Dropbox, Amazon S3,
         Backblaze, etc. The documentation is very complete, the setup really simple, and its functionality covers all
         my scenarios.
     </p>
		 Installation instructions only cover directly Linux, and for some reason it puts the executable into <b>sbin</b>,
         which is all but useful -the idea is to be executed, with different credentials, by each user. Finally, I used
         the following instructions for Linux:
	 </p>

     <pre>cd /tmp
wget http://downloads.rclone.org/rclone-current-linux-amd64.zip
unzip cd rclone-current-linux-amd64.zip

sudo cp rclone-current-linux-amd64/rclone /usr/local/bin
sudo chown root:root /usr/local/bin/rclone
sudo chmod 755 /usr/local/bin/rclone

#install manpage
sudo mkdir -p /usr/local/share/man/man1
sudo cp rclone-current-linux-amd64/rclone.1 /usr/local/share/man/man1/
sudo mandb</pre>

     </p>
         And almost the same instructions for OsX:
     </p>

     <pre>cd /tmp
wget http://downloads.rclone.org/rclone-current-osx-amd64.zip
unzip cd rclone-current-osx-amd64.zip

sudo cp rclone-current-osx-amd64/rclone /usr/local/bin
sudo chown root:root /usr/local/bin/rclone
sudo chmod 755 /usr/local/bin/rclone

#install manpage
sudo mkdir -p /usr/local/share/man/man1
sudo cp rclone-current-osx-amd64/rclone.1 /usr/local/share/man/man1/</pre>


     <p class="blog-entry"><span class="blog-entry-date">18th March 2016</span>Two factor authentication with SSH</p>

	 <p> <img src="images/gauth.png" alt="google authenticator icon" class="blog"> This must be
		 <a href='howto/security/ssh_2factorauth.html'>the best way</a> to strengthen the security on your
		 ssh connection for those cases where ssh keys are not available.
	 <p>
		 Tip copied from this <a href='http://www.arm-blog.com/using-2-factor-authentication-for-ssh/'>arm-blog</a>
	 </p>


	 <p class="blog-entry"><span class="blog-entry-date">10th January 2016</span>Redmine on Debian</p>

	 <p> <img src="images/redmine.png" alt="redmine icon" class="blog"> Added
		 <a href="linux/debian/redmine.htm">instructions</a> to install
		 <a href="http://www.redmine.org/">Redmine</a> on Debian, using PostgreSQL and Nginx.
	 </p><p>
	 	The main problem was in fact setting up correctly email support (and then, trying to scape the SPAM folders in Google).
	 </p>


	 <p class="blog-entry"><span class="blog-entry-date">21st December 2015</span>Dual NICs on Linux</p>

	 <p> <img src="images/dualnic.png" alt="dual nic icon" class="blog"> Normally, I setup virtual machines with a
		 single network card; using multiple NICs raised some routing problems, and the solution was not immediate.
     </p><p>
         I have added two blog entries, one on setting up a Debian or CentOS machine with
         <a href="linux/dual_nic_linux.htm">multiple network cards</a>, and
         other on assigning correctly the <a href="linux/centos/centos_hostname_and_dhcp.htm">hostname via DHCP</a> to a CentOS machine,
         setup as well with dual ethernet ports.
	 </p>


     <p class="blog-entry"><span class="blog-entry-date">21st December 2015</span>Reading point</p>

     <p> <a href='books/2015/index.htm#cloud_atlas'><img src='books/2015/cloud_atlas.png' class='blog'/></a>
         <a href='books/2015/index.htm#the_black_echo'><img src='books/2015/the_black_echo.png' class='blog'/></a>
         <a href='books/2015/index.htm#strange_weather_in_tokio'><img src='books/2015/strange_weather_in_tokio.png' class='blog'/></a>
         <a href='books/2015/index.htm#the_stranger'><img src='books/2015/the_stranger.jpg' class='blog'/></a>
         <a href='books/2015/index.htm#the_snowman'><img src='books/2015/the_snowman.png' class='blog'/></a>
         Not much of interest this time, just a case of books shoveling.
     </p>
     <p>
         But one stands out:
         <a href="books/2015/index.htm#strange_weather_in_tokio">Strange weather in Tokio</a>, by Hiromi Kawakami:
         sad, melancholic, and pure delicacy.
     </p>



     <p class="blog-entry"><span class="blog-entry-date">18th October 2015</span>TableFilter v5.2.1</p>

	 <p> <img src="images/tablefilter.png" alt="table filter icon" class="blog">New release for this
		 <a href='tablefilter/index.html'>Java library</a>, solving one important problem, affecting the definition
		 of new models on existing tables.
	 </p><p>
		 It is in fact a regression problem, where I had obviously missed the
		 associated regression test :-(
	 </p>



	 <p class="blog-entry"><span class="blog-entry-date">5th August 2015</span>TableFilter &amp; IntelliJ Idea</p>

	 <p> <img src="images/jidea.png" alt="intellig idea icon" class="blog">I requested a few weeks ago an Open Source License for
	 <a href='https://www.jetbrains.com/idea/'>IntelliJ Idea</a>, based on my <a href='tablefilter/index.html'>TableFilter</a> project, and I received it two weeks
	 later.</p>
	 <p>Just in time to work on a new issue found on the library: 
	 <a href='https://bitbucket.org/coderazzi/tablefilter-swing/issues/39/wrong-filter-value-when-autochoices-is'>Wrong filter value when AutoChoices is enabled</a>,
	 which happened in fact when instant filtering was on. So there is now a new release, gladly developed using the new IDE: version 5.1.5</p>




	<p class="blog-entry"><span class="blog-entry-date">18th July 2015</span>SSH daemon port</p> 

	 <p> <img src="images/debian.png" alt="debian icon" class="blog">I am totally sold to the explanations on why putting SSH on any other port than 22 is a 
	<a href='https://www.adayinthelifeof.nl/2012/03/12/why-putting-ssh-on-another-port-than-22-is-bad-idea/'>bad idea</a>
	but it is my experience that keeping enabled the port 22 is asking for problems. It can be restricted to explicit IP
	addresses, etc, but, otherwise, changing the port seems a sound idea. Mind you, it is probably just discarding 
	the unexperienced vector attacks, but even so, unless you are the unique user in that machine and keep a good 
	password policy, a vector attack can eventually score, so disabling the port 22 and moving anywhere else can indeed
	help.
	 </p>

	<p>In Debian Jessie (8.x), it is just needed to link the ssh daemon itself and ensure that the configuration files for the
	duplicated daemon are in place; the following procedure does not remove the access to port 22, it is your responsibility to 
	disable it or to enhance its security (like limiting inbound IPs, etc). See the whole procedure <a href='howto/security/ssh_port_debian.html'>here</a></p>

	<p class="blog-entry"><span class="blog-entry-date">12th July 2015</span>Ubuntu workspaces</p> 

	 <p> <img src="images/workspaces.png" alt="workspaces" class="blog">I like enabling workspaces in Ubuntu, and then my favourite shortcuts are Super+number workspace to switch to the given workspace.</p>

	 <p>It is possible to open the preferences, go to keyboard and then update the navigation shortcuts so that 'Switch to workspace 1' is done with 'Super+1', and so on. But this won't work, because the launcher uses directly Super - so Super + 1 launches instead the first application in the launcher, Super + 2 the second one and so on.</p>

	 <p>However, these shortcuts are not editable in the preferences. Instead, it is needed to install CompizConfig Settings Manager, launch it and select Ubuntu Unity Plugin. Under Launcher, the default key to show the dash Launcher and Help Overlay is Super. Change this to something else, like Alt+Super, and the shortcuts for Workspace navigation will work as expected!</p>


	<p class="blog-entry"><span class="blog-entry-date">12th July 2015</span>Reading point</p> 

	<p> <a href='books/2015/index.htm#snowcrash'><img src='books/2015/snowcrash.png' class='blog'/></a>
		<a href='books/2015/index.htm#revival'><img src='books/2015/revival.jpg' class='blog'/></a>
		<a href='books/2015/index.htm#winter_of_the_world'><img src='books/2015/winter_of_the_world.png' class='blog'/></a>
		<a href='books/2015/index.htm#revelation_space'><img src='books/2015/revelation_space.png' class='blog'/></a>
		Only one audiobook in the last months -that I finished, in fact I started a few others that I considered not good enough-, devoting much more time to paperbacks. And the focus was on fiction, with a lot of AI: snowcrash, and even better, Revelation Space. The counter weight was Winter of the World, still fiction, but with a lot of historic background.
	</p>


	<p class="blog-entry"><span class="blog-entry-date">1st June 2015</span>libguestfs-tools</p> 

	 <p> <img src="images/debian.png" alt="debian icon" class="blog">Using <a href='http://www.linux-kvm.org/page/Main_Page'>KVM</a> on Debian, I have
	 prepared some scripts to perform usual tasks with images, and some of those scripts rely on the package <a href='http://libguestfs.org/'>libguestfs-tools</a>
	 to do the heavy tasks, such as resizing partitions in the images. The scripts run perfectly in Debian Wheezy, but in Debian Jessie, I was surprised with 
	 the error message:</p>

	<span class='code'>virt-resize: error: libguestfs error: copy_device_to_device: /dev/sdb2: write: No space left on device</span>
	
	<p>Which seems to be an existing <a href='https://bugzilla.redhat.com/show_bug.cgi?id=1169015'>bug</a>, already solved. I could compile myself the sources, or
	try the package distributed in Debian Sid, with version 1.28.10 instead of 1.28.1, but I had no idea on how to install a specific package from Sid. The 
	best answer was in this <a href='http://serverfault.com/questions/22414/how-can-i-run-debian-stable-but-install-some-packages-from-testing'>thread</a>:</p>

	<pre>mv /etc/apt/sources.list  /etc/apt/sources.d.list/jessie.list
echo "deb http://debian.mirror.root.lu/debian/ sid main" \
	>  /etc/apt/sources.d.list/sid.list	
echo APT::Default-Release \"jessie\"\; \
	> /etc/apt/apt.conf.d/99defaultrelease</pre>

	<p>With these changes, I differentiate the usual sources, which get precedence against the unstable ones, that contain only Debian Sid</p>

	<pre>apt-get update
apt-upgrade	
apt-get -t sid install libguestfs-tools</pre>

	<p>This strategy is general to use a second set of sources. It can cause side effects, obviously, so it should be used in limited cases, specially when
	installing packages with many dependencies. In my case, it installed version 1.28.10 which solved my problem with virt-resize.</p>



	<p class="blog-entry"><span class="blog-entry-date">5th May 2015</span>Moving to Bitbucket</p> 

	 <p> <img src="images/bitbucket.png" alt="table filter icon" class="blog">With the incoming 
	  <a href='http://google-opensource.blogspot.com/2015/03/farewell-to-google-code.html'>demise</a> of Google Code, I had to move
	  my <a href='tablefilter/index.html'>TableFilter</a> Java library out. The easy move was to migrate the code to Github, as Google 
	  provided a script to do the move at once, but that would mean leaving Mercurial and embracing Git. Mind you, that would be all but a dramatic 
	  decision: it must be impossible to work with source code without using Git -in fact, the opposite is probably not the case for Mercurial-. 
	  But all things considered, I wondered why not giving Bitbucket a shot and stay with the minor number of changes.</p>

	  <p>The move to Bitbucket was totally painless. As soon as the hosting was different, this meant updating the pom files for the project,
	  updating some documentation, etc. So now the library has a new <a href='https://bitbucket.org/coderazzi/tablefilter-swing'>home</a>. Farewell, Google code.


	<p class="blog-entry"><span class="blog-entry-date">18th March 2015</span>TableFilter v5.1.2</p> 

	 <p> <img src="images/tablefilter.png" alt="table filter icon" class="blog">New release for this 
	 	<a href='tablefilter/index.html'>Java library</a>, solving two minor issues. Previous release was 21 months ago, and
	 	there is currently just one <a href='https://code.google.com/p/tablefilter-swing/issues/detail?id=30'>issue open</a> to support multi-choice filters.
	 </p>

	 <p>With the closure of Google code, where this project is hosted, I need to evaluate whether moving it to Github or Bitbucket.
	 	I favor Mercurial, so most likely Bitbucket will be the destination.</p>



	
 </div>
</div>
</body>
</html>
